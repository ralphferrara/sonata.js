<style>

      section.modal.register div.content {
            height      : 40%;
            width       : 40%;
            top         : 50%;
            left        : 50%;
            margin      : -10% auto auto -20%;
            min-height  : 325px;
      }

      section.modal.register div.content h2 {
            margin      : 20px 0 20px 0;
      }

</style>

<section class="modal register" id="modalRegister">
      <div class="content"> 
            <a class="close" href="#">&times;</a>

            <ul class="horizontal-list width-50 align-center tabs">
                  <li id="tabEmail" onclick="$('AuthRegister').changeForm(this, 'registerEmail');">[[Email]]</li>
                  <li id="tabPhone" onclick="$('AuthRegister').changeForm(this, 'registerPhone');">[[Phone]]</li>
            </ul>

            <hr class="divide">

            <form action="/auth/register" method="post" id="registerEmail">
                  <h2>[[Register with Email address]]</h2>
                  <input type="hidden" name="registerType" value="email" />
                  <div class="form-group" data-validation="email" data-error="[[Please enter a valid email address]]" data-label="[[Email address]]">
                        <label for="registerEmail"></label>
                        <input name="email" type="email" class="form-control" id="registerEmail" aria-describedby="emailHelp" value="ralph.ferrara@gmail.com">
                  </div>
                  <input type="submit" class="btn btn-primary" value=" [[Register!]] " />
            </form>


            <form action="/auth/register" method="post" id="registerPhone">                  
                  <h2>[[Register with Phone number]]</h2>
                  <input type="hidden" name="registerType" value="phone" />
                  <div class="form-group" data-validation="phone" data-error="[[Please enter your phone number]]" data-label="[[Phone number]]">
                        <label for="registerPhone"></label>
                        <input name="name" type="phone" class="form-control" id="registerPhone" value="602-743-8646">
                  </div>  
                  <input type="submit" class="btn btn-primary" value=" [[Register!]] " /> 
            </form>
      </div>
</section>

<script>
      $.init('AuthRegister', class { 
            modal() {
                  $.modal('modalRegister','register',{'csrf' : true});
                  this.changeForm($('#tabEmail'), 'registerEmail');                  
            };

            changeForm(myLink, form) {
                  $('#modalRegister form').hide();
                  $('#modalRegister li').removeClass('selected');
                  $(myLink).addClass('selected');
                  $('#'+form).show();
            };

            onError(data)  { 
                  console.log('AUTH REGISTER ERROR');
                  console.log(data); 
                  $('snackbar').show(data.errors);
            };

            onSuccess(data) {                  
                  console.log('AUTH REGISTER SUCCESS');
                  console.log(data);
                  $('snackbar').show('Your account has been created. Please check your email/phone for a verification code.');
                  $('#modalRegister').hide();
                  $('AuthVerification').modal(data);
            };
            
      });
</script>
